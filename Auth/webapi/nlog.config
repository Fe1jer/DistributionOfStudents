<?xml version="1.0" encoding="utf-8" ?>
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" autoReload="true"
      internalLogLevel="Trace">
	<extensions>
		<add assembly="NLog.Extended" />
	</extensions>

	<targets>
		<target name="logfile" 
				xsi:type="File"
				archiveAboveSize="500000000" 
				fileName="App_Data/Logs/${shortdate}_log.txt"
				maxArchiveDays="30"
		        layout="${longdate} ${uppercase:${level}} ${message} ${onexception:${newline}EXCEPTION OCCURRED\:${exception:format=tostring} ${newline}StackTrace\:${stacktrace:format=DetailedFlat:topFrames=10}"/>
	</targets>

	<rules>
		<logger name="Microsoft.*" maxlevel="Info" final="true" />
		<logger name="System.*" maxlevel="Info" final="true" />
		<logger name="Microsoft.Hosting.Lifetime*" maxlevel="Info" final="true" />
		<logger name="*" minlevel="Info" writeTo="logfile" />
	</rules>
</nlog>